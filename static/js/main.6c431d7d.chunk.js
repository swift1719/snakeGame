(this["webpackJsonpsnake-game"]=this["webpackJsonpsnake-game"]||[]).push([[0],[,,,,,,,,,,function(e,t,r){},function(e,t,r){},function(e,t,r){},,function(e,t,r){"use strict";r.r(t);var n=r(0),c=r.n(n),a=r(5),o=r.n(a),l=(r(10),r(11),r(2)),u=r(4);r(12);var i=r(1),s=function e(t){Object(u.a)(this,e),this.value=t,this.next=null},f=function e(t){Object(u.a)(this,e);var r=new s(t);this.head=r,this.tail=r},w=function(e){for(var t=1,r=[],n=0;n<e;n++){for(var c=[],a=0;a<e;a++)c.push(t++);r.push(c)}return r},v=function(e){var t=e.length,r=e[0].length,n=Math.round(t/3),c=Math.round(r/3);return{row:n,col:c,cell:e[n][c]}},h=function(e,t){var r=e.row,n=e.col;return r<0||n<0||(r>=t.length||n>=t[0].length)},d=function(e){switch(e){case"ArrowUp":return j.UP;case"ArrowRight":return j.RIGHT;case"ArrowDown":return j.DOWN;case"ArrowLeft":return j.LEFT;default:return""}},j={UP:"UP",RIGHT:"RIGHT",DOWN:"DOWN",LEFT:"LEFT"},O=function(e,t){if(null===e.next)return t;var r=e.value,n=r.row,c=r.col,a=e.next.value,o=a.row,l=a.col;return o===n&&l===c+1?j.RIGHT:o===n&&l===c-1?j.LEFT:l===c&&o===n+1?j.DOWN:l===c&&o===n-1?j.UP:""},b=function(e,t){switch(t){case j.UP:return{row:e.row-1,col:e.col};case j.RIGHT:return{row:e.row,col:e.col+1};case j.DOWN:return{row:e.row+1,col:e.col};case j.LEFT:return{row:e.row,col:e.col-1}}},T=function(e,t){var r=O(e,t),n=x(r);return function(e,t){switch(t){case j.UP:return{row:e.row-1,col:e.col};case j.RIGHT:return{row:e.row,col:e.col+1};case j.DOWN:return{row:e.row+1,col:e.col};case j.LEFT:return{row:e.row,col:e.col-1}}}({row:e.value.row,col:e.value.col},n)},x=function(e){switch(e){case j.UP:return j.DOWN;case j.RIGHT:return j.LEFT;case j.DOWN:return j.UP;case j.LEFT:return j.RIGHT}},p=function(e,t,r,n){var c="cell";return e===t&&(c=r?"cell cell-purple":"cell cell-red"),n.has(e)&&(c="cell cell-green"),c},R=function(){var e=Object(n.useState)(w(13)),t=Object(l.a)(e,2),r=t[0],c=(t[1],Object(n.useState)(new f(v(r)))),a=Object(l.a)(c,2),o=a[0],u=a[1],R=Object(n.useState)(new Set([o.head.value.cell])),m=Object(l.a)(R,2),E=m[0],I=m[1],N=Object(n.useRef)(E),S=Object(n.useState)(o.head.value.cell+5),g=Object(l.a)(S,2),G=g[0],H=g[1],L=Object(n.useState)(j.RIGHT),D=Object(l.a)(L,2),F=D[0],U=D[1],P=Object(n.useRef)(F),W=function(e){P.current=e,U(e)},k=Object(n.useState)(!1),M=Object(l.a)(k,2),A=M[0],y=M[1],J=Object(n.useState)(0),z=Object(l.a)(J,2),B=z[0],q=z[1];Object(n.useEffect)((function(){window.addEventListener("keydown",(function(e){C(e)}))}),[]),function(e,t){var r=Object(n.useRef)();Object(n.useEffect)((function(){r.current=e}),[e]),Object(n.useEffect)((function(){if(null!==t){var e=setInterval((function(){r.current()}),t);return function(){return clearInterval(e)}}}),[t])}((function(){K()}),150);var C=function(e){var t=d(e.key);""!==t&&(x(t)===P.current&&N.current.size>1||W(t))},K=function(){var e={row:o.head.value.row,col:o.head.value.col},t=b(e,F);if(h(t,r))Y();else{var n=r[t.row][t.col];if(E.has(n))Y();else{var c=new s({row:t.row,col:t.col,cell:n}),a=o.head;o.head=c,a.next=c;var l=new Set(E);l.delete(o.tail.value.cell),l.add(n),o.tail=o.tail.next,null===o.tail&&(o.tail=o.head),n===G&&(Q(l),A&&V(),X(l)),function(e){N.current=e,I(e)}(l)}}},Q=function(e){var t=T(o.tail,F);if(!h(t,r)){var n=r[t.row][t.col],c=new s({row:t.row,col:t.col,cell:n}),a=o.tail;o.tail=c,o.tail.next=a,e.add(n)}},V=function(){var e=O(o.tail,F),t=x(e);W(t),function(e){for(var t=null,r=e;null!==r;){var n=r.next;r.next=t,t=r,r=n}}(o.tail);var r=o.head;o.head=o.tail,o.tail=r},X=function(e){for(var t,r,n;r=1,n=169,t=Math.floor(Math.random()*(n-r+1)+r),e.has(t)||G===t;);var c=Math.random()<.3;H(t),y(c),q(B+1)},Y=function(){q(0);var e=v(r);u(new f(e)),H(e.cell+5),I(new Set([e.cell])),U(j.RIGHT)};return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("h1",{children:["Score: ",B]}),Object(i.jsx)("div",{className:"board",children:r.map((function(e,t){return Object(i.jsx)("div",{className:"row",children:e.map((function(e,t){var r=p(e,G,A,E);return Object(i.jsx)("div",{className:r},t)}))},t)}))})]})};var m=function(){return Object(i.jsx)("div",{className:"App",children:Object(i.jsx)(R,{})})};o.a.render(Object(i.jsx)(c.a.StrictMode,{children:Object(i.jsx)(m,{})}),document.getElementById("root"))}],[[14,1,2]]]);
//# sourceMappingURL=main.6c431d7d.chunk.js.map